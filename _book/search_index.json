[["index.html", "Editable Distributed Hydrological Model The Document and the EDHM Package The Document EDHM", " Editable Distributed Hydrological Model Kan Lei 2021-04-14 The Document and the EDHM Package The Document This document is the use guide for EDHM and some other information about the hydrological models (HM) building. EDHM EDHM is a R package for hydrological models in order to simplify the models building, specially the distributed hydrological model. In the package contain many complete MODEL that can used directly, and many MODULE that can a new MODEL to building. All of the MODELs and MODULEs are build with matrix-arithmetic, that can good deal with the distributed situation. In the package there are many tools to calibrate the parameters or build a new MODEL or a new MODULE. The Package is only in GitHub published, for the first time use, please install the package EDHM and HMtools use the following code: install.packages(&quot;devtools&quot;) devtools::install_github(&quot;LuckyKanLei/HMtools&quot;) devtools::install_github(&quot;LuckyKanLei/EDHM&quot;) "],["base.html", "Chapter 1 Basic Concept 1.1 Hydrological Cycle 1.2 Important Concept of EDHM 1.3 Data and Parameter", " Chapter 1 Basic Concept 1.1 Hydrological Cycle Process 1.2 Important Concept of EDHM Process Method Module Model Run_Model Evaluate Calibrate 1.3 Data and Parameter 1.3.1 Variable naming 1.3.2 Data Structure 1.3.3 Data or Parameter "],["develop.html", "Chapter 2 Model Use and Develop 2.1 Model Structure or Concept 2.2 Use Model with a MODEL or Run_MODEL 2.3 Copuling a new Model with MODULE 2.4 Design a new MODULE", " Chapter 2 Model Use and Develop Choose a Model virtue: convenience shortage: poor adaptability 2.1 Model Structure or Concept Design a Model 2.2 Use Model with a MODEL or Run_MODEL 2.2.1 Check the InData list 2.2.2 Data Preparation 2.2.3 Evaluate 2.2.4 Calibrate 2.3 Copuling a new Model with MODULE 2.3.1 Choose MODULE 2.3.2 Set the Data-FLow 2.3.3 Build the MODEL and Run_MODEL 2.4 Design a new MODULE 2.4.1 Method and Formula 2.4.2 Coding the Inhalt 2.4.3 Set In/OutData and Parameter Here is a review of existing methods. "],["module.html", "Chapter 3 Modules 3.1 ReferenceET 3.2 ActualET 3.3 SNOW 3.4 BASEFLOW 3.5 INTERCEPTION 3.6 InfiltratRat 3.7 Infiltration 3.8 RUNOFF 3.9 GROUNDWATER 3.10 ROUTE", " Chapter 3 Modules 3.1 ReferenceET 3.1.1 ReferenceET.Hargreaves This Module reference to the Literature: Reference Crop Evapotranspiration from Temperature (George H. Hargreaves and Zohrab A. Samani 1985). InData Group Variable Unit Description MetData TAir Cel Average Air temperature in Timestep TMax Cel Maximal Air temperature in one day TMin Cel Minimul Air temperature in one day GeoData Latitude deg Latitude TimeData NDay – Day nummer in one year Param Paramter Min Max Unit Description PeriodN 1 9999 – The number of Step GridN 1 9999 – The nummber of effektive Grids OutData Group Variable Unit Description Evatrans RET mm Reference evapotranspiration 3.1.2 ReferenceET.Linacre This Module reference to the Literature: A simple formula for estimating evaporation rates in various climates, using temperature data alone (Linacre 1977). InData Group Variable Unit Description MetData TAir Cel Average Air temperature in Timestep Actual_vapor_press mPa Actual vapor press GeoData Latitude deg Latitude Elevation m Elevation TimeData NDay – Day nummer in one year Param Paramter Min Max Unit Description PeriodN 1 9999 – The number of Step GridN 1 9999 – The nummber of effektive Grids OutData Group Variable Unit Description Evatrans RET mm Reference evapotranspiration 3.1.3 ReferenceET.PenMon This Module reference to the Literature: Step by Step Calculation of the Penman-Monteith Evapotranspiration (FAO-56) (Lincoln Zotarelli 2014). InData Group Variable Unit Description MetData TAir Cel Average Air temperature in Timestep TMax Cel Maximal Air temperature in one day TMin Cel Minimul Air temperature in one day RelativeHumidity % Relative Humidity, not greater than 100 WindSpeed m/s Average Wind Speed WindH m The hight to mess the WindSpeed SunHour h Sunshine duration in one day GeoData Latitude deg Latitude Elevation m Elevation TimeData NDay – Day nummer in one year Param Paramter Min Max Unit Description PeriodN 1 9999 – The number of Step GridN 1 9999 – The nummber of effektive Grids OutData Group Variable Unit Description Evatrans RET mm Reference evapotranspiration 3.2 ActualET 3.2.1 ActualET.Gr4j This Module reference to the Literature: Improvement of a parsimonious model for streamflow simulation (Perrin, Michel, and Andréassian 2003). InData Group Variable Unit Description Evatrans RET mm Reference evapotranspiration Ground MoistureVolume mm Moisture volume Prec Precipitation mm Precipitation, summe of rain and snow Param Paramter Min Max Unit Description Gr4j_X1 0.1 9.99 mm NA OutData Group Variable Unit Description Evatrans AET mm Actual evapotranspiration Prec Precipitation mm Precipitation, summe of rain and snow 3.2.2 ActualET.Vic This Module reference to the Literature: none (???). InData Group Variable Unit Description Aerodyna AerodynaResist s/m Aerodyna Resist ArchitecturalResist s/m Architectural Resist StomatalResist s/m Stomatal Resist Canopy StorageCapacity mm Canopy Storage Capacity for Intercept and Evaporation from Canopy Evatrans RET mm Reference evapotranspiration Ground MoistureVolume mm Moisture volume MoistureCapacityMax mm Maximal Moisture Capacity Intercept Interception mm Interception in Canopy Prec Precipitation mm Precipitation, summe of rain and snow Param Paramter Min Max Unit Description SoilMoistureCapacityB 0 0 – – OutData Group Variable Unit Description Evatrans EvaporationCanopy mm Evaporation from Canopy Transpiration mm Transpiration (water from Root layer of vegetation) EvaporationLand mm Evaporation from Landsurface (sometimes cotain the Evaporation from Watersurface like Lake) 3.3 SNOW 3.3.1 SNOW.17 This Module reference to the Literature: National Weather Service river forecast system: snow accumulation and ablation model (Anderson 1973). InData Group Variable Unit Description MetData TAir Cel Average Air temperature in Timestep Snow Ice_Volume mm Soild Ice Volume, not depth Liquid_Volume mm Liquid Volume SN17_ATI – – SN17_HD mm – Prec SnowFall mm Snow RainFall mm Rain GeoData Elevation m Elevation TimeData NDay – Day nummer in one year Param Paramter Min Max Unit Description SN17_SCF 0.70 1.40 – Snowfall correction factor SN17_MFMAX 0.50 2.00 mm/6hCel Maximum melt factor considered to occur on June 21 SN17_MFMIN 0.05 0.49 mm/6hCel Minimum melt factor considered to occur on December 21 SN17_UADJ 0.03 0.19 mm/6hCel The average wind function during rain-on-snow periods SN17_NMF 0.05 0.50 mm/6hCel Maximum negative melt factor SN17_TIPM 0.10 1.00 – Antecedent snow temperature index SN17_PXTEMP -2.00 2.00 Cel Temperature that separates rain from snow SN17_MBASE 0.00 1.00 Cel Base temperature for non-rain melt factor SN17_PLWHC 0.02 0.30 – Percent of liquid–water capacity SN17_DAYGM 0.00 0.30 mm/d Daily melt at snow–soil interface TimeStepSec 1.00 9999.00 s Second pro Step OutData Group Variable Unit Description Snow Ice_Volume mm Soild Ice Volume, not depth Liquid_Volume mm Liquid Volume SN17_ATI – – SN17_HD mm – Prec Precipitation mm Precipitation, summe of rain and snow 3.3.2 SNOW.Ddf This Module reference to the Literature: none (???). InData Group Variable Unit Description Ground MoistureVolume mm Moisture volume Snow Volume mm Summe Volume of Ice and liquid water, not depth Prec SnowFall mm Snow RainFall mm Rain Param Paramter Min Max Unit Description Factor_Day_degree 0 0 – – OutData Group Variable Unit Description Snow Volume mm Summe Volume of Ice and liquid water, not depth Prec Precipitation mm Precipitation, summe of rain and snow 3.4 BASEFLOW 3.4.1 BASEFLOW.ARNO This Module reference to the Literature: LARGE AREA HYDROLOGIC MODELING AND ASSESSMENT PART I: MODEL DEVELOPMENT (Arnold et al. 1998). InData Group Variable Unit Description Ground MoistureVolume mm Moisture volume MoistureCapacityMax mm Maximal Moisture Capacity Param Paramter Min Max Unit Description ExponentARNOBase 0 0 – – ARNOBaseThresholdRadio 0 0 – – DrainageLossMax 0 0 – – DrainageLossMin 0 0 – – OutData Group Variable Unit Description Ground BaseFlow mm Base Flow 3.5 INTERCEPTION 3.5.1 INTERCEPTION.Gash This Module reference to the Literature: An analytical model of rainfall interception by forests (Gash 1979). InData Group Variable Unit Description Canopy StorageCapacity mm Canopy Storage Capacity for Intercept and Evaporation from Canopy Evatrans EvaporationCanopy mm Evaporation from Canopy Intercept Interception mm Interception in Canopy Prec Precipitation mm Precipitation, summe of rain and snow Param Paramter Min Max Unit Description CoefficientFreeThroughfall 0 0 – – OutData Group Variable Unit Description Intercept Interception mm Interception in Canopy Prec Precipitation mm Precipitation, summe of rain and snow 3.6 InfiltratRat 3.6.1 InfiltratRat.GreenAmpt This Module reference to the Literature: Drainage to a water table analysed by the Green-Ampt approach (Youngs and Aggelides 1976). InData Group Variable Unit Description Ground MoistureVolume mm Moisture volume Depth mm Ground Depth SoilData Conductivity m/s Soil actual Conductivity WettingFrontSuction m/s Wetting Front Suction Porosity 100% Soil Porosity, not greater than 1 Param Paramter Min Max Unit Description GridN 1 9999 – NA OutData Group Variable Unit Description Infilt InfiltrationRat mm Infiltration Rate (for some INFITRATION Module) 3.7 Infiltration 3.7.1 Infiltration.OIER This Module reference to the Literature: none (???). InData Group Variable Unit Description Infilt InfiltrationRat mm Infiltration Rate (for some INFITRATION Module) Prec Precipitation mm Precipitation, summe of rain and snow Param Paramter Min Max Unit Description InfiltrationRateB 0 0 – – OutData Group Variable Unit Description Infilt Infiltration mm Infiltration 3.7.2 Infiltration.SER This Module reference to the Literature: none (???). InData Group Variable Unit Description Ground MoistureCapacityMax mm Maximal Moisture Capacity MoistureCapacity mm Moisture Capacity Prec Precipitation mm Precipitation, summe of rain and snow Param Paramter Min Max Unit Description SoilMoistureCapacityB 0 0 – – OutData Group Variable Unit Description Infilt Infiltration mm Infiltration 3.8 RUNOFF 3.8.1 RUNOFF.Gr4j This Module reference to the Literature: Improvement of a parsimonious model for streamflow simulation (Perrin, Michel, and Andréassian 2003). InData Group Variable Unit Description Ground MoistureVolume mm Moisture volume Evatrans AET mm Actual evapotranspiration Prec Precipitation mm Precipitation, summe of rain and snow Param Paramter Min Max Unit Description Gr4j_X1 0.1 9.99 mm NA OutData Group Variable Unit Description Ground Runoff mm Runoff, it will be more wert, when the Runoff is in different form divided MoistureVolume mm Moisture volume 3.8.2 RUNOFF.OIER This Module reference to the Literature: none (???). InData Group Variable Unit Description Infilt InfiltrationRateMax mm Maximal Infiltration Rate (for some INFITRATION Module) Prec Precipitation mm Precipitation, summe of rain and snow Param Paramter Min Max Unit Description InfiltrationRateB 0 0 – – OutData Group Variable Unit Description Ground Runoff mm Runoff, it will be more wert, when the Runoff is in different form divided Infilt Infiltration mm Infiltration 3.8.3 RUNOFF.SER This Module reference to the Literature: none (???). InData Group Variable Unit Description Ground MoistureCapacityMax mm Maximal Moisture Capacity MoistureVolume mm Moisture volume Prec Precipitation mm Precipitation, summe of rain and snow Param Paramter Min Max Unit Description SoilMoistureCapacityB 0 0 – – OutData Group Variable Unit Description Ground Runoff mm Runoff, it will be more wert, when the Runoff is in different form divided Infilt Infiltration mm Infiltration 3.8.4 RUNOFF.Vic This Module reference to the Literature: A new surface runoff parameterization with subgrid-scale soil heterogeneity for land surface models (Liang and Xie 2001). InData Group Variable Unit Description Ground MoistureCapacityMax mm Maximal Moisture Capacity MoistureVolume mm Moisture volume Infilt InfiltrationRat mm Infiltration Rate (for some INFITRATION Module) Prec Precipitation mm Precipitation, summe of rain and snow Param Paramter Min Max Unit Description SoilMoistureCapacityB 0 0 – – InfiltrationRateB 0 0 – – OutData Group Variable Unit Description Ground Runoff mm Runoff, it will be more wert, when the Runoff is in different form divided Infilt Infiltration mm Infiltration 3.8.5 RUNOFF.VM This Module reference to the Literature: none (???). InData Group Variable Unit Description Ground MoistureCapacity mm Moisture Capacity MoistureCapacityMax mm Maximal Moisture Capacity Infilt InfiltrationRateMax mm Maximal Infiltration Rate (for some INFITRATION Module) Prec Precipitation mm Precipitation, summe of rain and snow Param Paramter Min Max Unit Description SoilMoistureCapacityB 0 0 – – InfiltrationRateB 0 0 – – OutData Group Variable Unit Description Ground Runoff mm Runoff, it will be more wert, when the Runoff is in different form divided Infilt Infiltration mm Infiltration 3.9 GROUNDWATER 3.9.1 GROUNDWATER.Vic This Module reference to the Literature: none (???). InData Group Variable Unit Description Ground ZoneMoistureVolume mm Moisture volume, when the Ground is in more than one Layer divided ZoneDepth mm Ground Depth, , when the Ground is in more than one Layer divided BaseFlow mm Base Flow Infilt Infiltration mm Infiltration Intercept Interception mm Interception in Canopy SoilData Porosity 100% Soil Porosity, not greater than 1 SaturatedConductivity m/s Soil Saturated Conductivity Param Paramter Min Max Unit Description GridN 1 9999 – The nummber of effektive Grids OutData Group Variable Unit Description Ground Overflow mm Overflow, when the caculated water volume greater than Capacity ZoneMoistureVolume mm Moisture volume, when the Ground is in more than one Layer divided 3.10 ROUTE 3.10.1 ROUTE.G2RES This Module reference to the Literature: none (???). InData Group Variable Unit Description Route WaterSource mm Water Source for Routing, sometimes the same Data with the Runoff UHAll – All the UH data for all of the Grids for Routr with IUH TypeGridID – The grids type for Routr with IUH TransAll – All of the transform Matrix for all of the Grids for Routr with IUH Param Paramter Min Max Unit Description PeriodN 1 9999 – The number of Step GridN 1 9999 – The nummber of effektive Grids OutData Group Variable Unit Description Route StaFlow m3/s Station Flow in the seted grid 3.10.2 ROUTE.Gr4j This Module reference to the Literature: Improvement of a parsimonious model for streamflow simulation (Perrin, Michel, and Andréassian 2003). InData Group Variable Unit Description Route WaterSource mm Water Source for Routing, sometimes the same Data with the Runoff Store mm Store in the Route (for some Module) Gr4j_UH1 – UH form 1 only for Module ROUTE.Gr4j, made by the function Gr4j_UH2 – UH form 1 only for Module ROUTE.Gr4j Param Paramter Min Max Unit Description Gr4j_X2 0.1 9.99 mm/Step The catchment water exchange coe icient Gr4j_X3 0.1 9.99 mm The one-day maximal capacity of the routing reservoir Gr4j_X4 1.0 9.99 mm/Step The HU1 unit hydrograph time base time_step_i 1.0 9999.00 – The time Step index OutData Group Variable Unit Description Route StaFlow m3/s Station Flow in the seted grid Store mm Store in the Route (for some Module) References "],["model.html", "Chapter 4 Model 4.1 Classical VIC 4.2 GR4J", " Chapter 4 Model 4.1 Classical VIC 4.2 GR4J "],["final-words.html", "Chapter 5 Final Words", " Chapter 5 Final Words We have finished a nice book. "],["references.html", "References", " References "]]
